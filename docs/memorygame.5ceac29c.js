function t(t,e,r,a){Object.defineProperty(t,e,{get:r,set:a,enumerable:!0,configurable:!0})}function e(t){return t&&t.__esModule?t.default:t}var r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},a={},i={},s=r.parcelRequire2d28;null==s&&((s=function(t){if(t in a)return a[t].exports;if(t in i){var e=i[t];delete i[t];var r={id:t,exports:{}};return a[t]=r,e.call(r.exports,r,r.exports),r.exports}var s=new Error("Cannot find module '"+t+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(t,e){i[t]=e},r.parcelRequire2d28=s),s.register("2o5qt",(function(e,r){var a,i;t(e.exports,"register",(function(){return i}),(function(t){return i=t})),t(e.exports,"resolve",(function(){return a}),(function(t){return a=t}));var s={};i=function(t){for(var e=Object.keys(t),r=0;r<e.length;r++)s[e[r]]=t[e[r]]},a=function(t){var e=s[t];if(null==e)throw new Error("Could not resolve bundle with id "+t);return e}})),s("2o5qt").register(JSON.parse('{"ch5Ah":"memorygame.5ceac29c.js","7qPPV":"bananas.8df7525f.png","8vGkd":"cherries.bdef524d.png","lgWRN":"popcorn.3b0c0b8f.png","am3Ev":"bmw.db8c4530.png","j3xO5":"hamburger.7cac6549.png","4w28f":"cheese.8645506e.png","8zhu8":"toothbrush.69a890d1.png","dtwUf":"fox.8efb4d41.png"}'));var n;n=new URL(s("2o5qt").resolve("7qPPV"),import.meta.url).toString();var o;o=new URL(s("2o5qt").resolve("8vGkd"),import.meta.url).toString();var c;c=new URL(s("2o5qt").resolve("lgWRN"),import.meta.url).toString();var d;d=new URL(s("2o5qt").resolve("am3Ev"),import.meta.url).toString();var l;l=new URL(s("2o5qt").resolve("j3xO5"),import.meta.url).toString();var u;u=new URL(s("2o5qt").resolve("4w28f"),import.meta.url).toString();var h;h=new URL(s("2o5qt").resolve("8zhu8"),import.meta.url).toString();var f;f=new URL(s("2o5qt").resolve("dtwUf"),import.meta.url).toString();const p=[e(n),e(o),e(c),e(d),e(l),e(u),e(h),e(f)],g={easy:4,medium:8,hard:16},m=document.body.querySelector(".container__game"),_=(t,e)=>{const r=document.createElement("div");r.classList.add("container__game__box"),r.classList.add(`container__game__box--${t}`),r.setAttribute("data-id",t);const a=document.createElement("img");return a.classList.add("container__game__box__image"),a.src=e,r.appendChild(a),r};var v=class{startGame(){this.generatePairs(),this.createBoard(),this.peekCards(),this.startListening()}restartGame(){document.querySelectorAll(".container__game__box").forEach((t=>t.remove())),this.resetState(),this.startGame()}resetState(){this.state={...this.state,pairsFounded:0,pairs:[],peekedCards:[]}}generatePairs(){const t=(t=>{const e=[];for(let r=0;r<t.length;r+=2){const a=[t[r],t[r+1]];e.push(a)}return e})((t=>{const e=[];for(;e.length<t;){const r=Math.floor(Math.random()*t)+1;-1===e.indexOf(r)&&e.push(r)}return e})(g[this.state.difficulty]));this.state.pairs=t}createBoard(){const t=((t,e)=>{const r=[];for(;r.length<e.length;){const e=Math.floor(Math.random()*t);-1===r.indexOf(e)&&r.push(e)}const a=[];for(let t=0;t<e.length;t++){const i=e[t][0],s=e[t][1],n=p[r[t]],o=_(i,n),c=_(s,n);a.push(o),a.push(c)}return a})(p.length,this.state.pairs);t.forEach((t=>m.appendChild(t)))}peekCards(){this.state.activity="peek";const t=document.body.querySelectorAll(".container__game__box");t.forEach((t=>{t.setAttribute("data-active",!0)})),setTimeout((()=>{t.forEach((t=>{t.removeAttribute("data-active"),this.state.activity="game"}))}),2500)}startListening(){document.body.querySelectorAll(".container__game__box").forEach((t=>{t.addEventListener("click",this.peekCard.bind(this))}))}peekCard(t){"peek"!==this.state.activity&&(this.state.activity="peek",this.state.peekedCards.push(t.target.getAttribute("data-id")),t.target.setAttribute("data-active",!0),this.checkPair())}changeDifficulty(t){this.state.difficulty=t,this.restartGame()}async checkPair(){if(this.state.peekedCards.length<2)return void(this.state.activity="game");const t=this.state.peekedCards,e=this.state.pairs.find((t=>t[0]==this.state.peekedCards[0]||t[1]==this.state.peekedCards[0])).sort().toString()===t.sort().toString();var r;await(r=1e3,new Promise((t=>setTimeout(t,r)))),e?(this.state.pairsFounded++,this.flipRevealedCards()):this.hideRevealedCards(),this.state.peekedCards=[],this.checkForWinner(),this.state.activity="game"}flipRevealedCards(){document.body.querySelectorAll(".container__game__box").forEach((t=>{const e=t.getAttribute("data-id");this.state.peekedCards.includes(e)&&t.setAttribute("data-invisible",!0)}))}hideRevealedCards(){document.body.querySelectorAll(".container__game__box").forEach((t=>{const e=t.getAttribute("data-id");this.state.peekedCards.includes(e)&&t.removeAttribute("data-active")}))}checkForWinner(){g[this.state.difficulty]===2*this.state.pairsFounded&&(alert("wygraÅ‚es!"),this.restartGame())}constructor(){var t,e,r;r={pairs:[],peekedCards:[],difficulty:"easy",pairsFounded:0,activity:"pending"},(e="state")in(t=this)?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}};const b=t=>{const e=t.target.getAttribute("data-type");document.querySelectorAll(".container__difficulty__type").forEach((t=>{t.hasAttribute("data-active")&&t.removeAttribute("data-active")})),document.querySelector(`.container__difficulty__type--${e}`).setAttribute("data-active",!0),y.changeDifficulty(e)};document.querySelectorAll(".container__difficulty__type").forEach((t=>{t.addEventListener("click",b)}));const y=new v;y.startGame();
//# sourceMappingURL=memorygame.5ceac29c.js.map
